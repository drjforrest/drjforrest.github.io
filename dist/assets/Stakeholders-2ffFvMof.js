import{r as _e,j as k,L as Rn}from"./index-paCI2FKD.js";import{B as Pn,P as Xn}from"./PageHeader-njoEzRzv.js";import{D as In}from"./download-CRl113A6.js";import{A as Dn}from"./arrow-right-CHutb95O.js";class Ln{constructor(){this.listeners=[]}tap(e){return this.listeners.push(e),()=>this.revoke(e)}revoke(e){const n=this.listeners.indexOf(e);n>=0&&this.listeners.splice(n,1)}revokeAll(){this.listeners.splice(0)}call(...e){for(const n of this.listeners)n(...e)}}const On=Math.random().toString(36).slice(2,8);let be=0;function Fn(){return be+=1,`mm-${On}-${be}`}function kt(){}function Et(t,e){const n=(r,i)=>e(r,()=>{var s;return(s=r.children)==null?void 0:s.map(a=>n(a,r))},i);return n(t)}function Hn(t,...e){const n=(t||"").split(" ").filter(Boolean);return e.forEach(r=>{r&&n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Ze(){const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t}function jn(t){const e={};return function(...r){const i=`${r[0]}`;let s=e[i];return s||(s={value:t(...r)},e[i]=s),s.value}}function Bn(t,e){const n={timer:0};function r(){n.timer&&(window.clearTimeout(n.timer),n.timer=0)}function i(){r(),n.args&&(n.result=t(...n.args))}return function(...a){return r(),n.args=a,n.timer=window.setTimeout(i,e),n.result}}/*! @gera2ld/jsx-dom v2.2.2 | ISC License */const Qe=1,Je=2,Vn="http://www.w3.org/2000/svg",Yt="http://www.w3.org/1999/xlink",qn={show:Yt,actuate:Yt,href:Yt},Yn=t=>typeof t=="string"||typeof t=="number",Un=t=>(t==null?void 0:t.vtype)===Qe,Gn=t=>(t==null?void 0:t.vtype)===Je;function Wn(t,e,...n){return e=Object.assign({},e,{children:n.length===1?n[0]:n}),Kn(t,e)}function Kn(t,e){let n;if(typeof t=="string")n=Qe;else if(typeof t=="function")n=Je;else throw new Error("Invalid VNode type");return{vtype:n,type:t,props:e}}function Zn(t){return t.children}const Qn={isSvg:!1};function ke(t,e){Array.isArray(e)||(e=[e]),e=e.filter(Boolean),e.length&&t.append(...e)}function Jn(t,e,n){for(const r in e)if(!(r==="key"||r==="children"||r==="ref"))if(r==="dangerouslySetInnerHTML")t.innerHTML=e[r].__html;else if(r==="innerHTML"||r==="textContent"||r==="innerText"||r==="value"&&["textarea","select"].includes(t.tagName)){const i=e[r];i!=null&&(t[r]=i)}else r.startsWith("on")?t[r.toLowerCase()]=e[r]:er(t,r,e[r],n.isSvg)}const tr={className:"class",labelFor:"for"};function er(t,e,n,r){if(e=tr[e]||e,n===!0)t.setAttribute(e,"");else if(n===!1)t.removeAttribute(e);else{const i=r?qn[e]:void 0;i!==void 0?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}}function nr(t){return t.reduce((e,n)=>e.concat(n),[])}function Jt(t,e){return Array.isArray(t)?nr(t.map(n=>Jt(n,e))):he(t,e)}function he(t,e=Qn){if(t==null||typeof t=="boolean")return null;if(t instanceof Node)return t;if(Gn(t)){const{type:n,props:r}=t;if(n===Zn){const s=document.createDocumentFragment();if(r.children){const a=Jt(r.children,e);ke(s,a)}return s}const i=n(r);return he(i,e)}if(Yn(t))return document.createTextNode(`${t}`);if(Un(t)){let n;const{type:r,props:i}=t;if(!e.isSvg&&r==="svg"&&(e=Object.assign({},e,{isSvg:!0})),e.isSvg?n=document.createElementNS(Vn,r):n=document.createElement(r),Jn(n,i,e),i.children){let a=e;e.isSvg&&r==="foreignObject"&&(a=Object.assign({},a,{isSvg:!1}));const o=Jt(i.children,a);o!=null&&ke(n,o)}const{ref:s}=i;return typeof s=="function"&&s(n),n}throw new Error("mount: Invalid Vnode!")}function rr(t){return he(t)}function Rt(...t){return rr(Wn(...t))}const ir=jn(t=>{document.head.append(Rt("link",{rel:"preload",as:"script",href:t}))}),Ee={},Ae={};async function sr(t,e){var n;const r=t.type==="script"&&((n=t.data)==null?void 0:n.src)||"";if(t.loaded||(t.loaded=Ee[r]),!t.loaded){const i=Ze();if(t.loaded=i.promise,t.type==="script"&&(document.head.append(Rt("script",{...t.data,onLoad:()=>i.resolve(),onError:i.reject})),r?Ee[r]=t.loaded:i.resolve()),t.type==="iife"){const{fn:s,getParams:a}=t.data;s(...(a==null?void 0:a(e))||[]),i.resolve()}}await t.loaded}async function ar(t){const e=t.type==="stylesheet"&&t.data.href||"";if(t.loaded||(t.loaded=Ae[e]),!t.loaded){const n=Ze();t.loaded=n.promise,e&&(Ae[e]=t.loaded),t.type==="style"?(document.head.append(Rt("style",{textContent:t.data})),n.resolve()):e&&(document.head.append(Rt("link",{rel:"stylesheet",...t.data})),fetch(e).then(r=>{if(r.ok)return r.text();throw r}).then(()=>n.resolve(),n.reject))}await t.loaded}async function or(t,e){t.forEach(n=>{var r;n.type==="script"&&((r=n.data)!=null&&r.src)&&ir(n.data.src)}),e={getMarkmap:()=>window.markmap,...e};for(const n of t)await sr(n,e)}async function lr(t){await Promise.all(t.map(e=>ar(e)))}class Ce extends Map{constructor(e,n=hr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Se(this,e))}has(e){return super.has(Se(this,e))}set(e,n){return super.set(cr(this,e),n)}delete(e){return super.delete(ur(this,e))}}function Se({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function cr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ur({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function hr(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ne(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function $e(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function fr(t,e){let n,r=-1,i=-1;if(e===void 0)for(const s of t)++i,s!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of t)(s=e(s,++i,t))!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);return r}var dr={value:()=>{}};function fe(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new $t(n)}function $t(t){this._=t}function pr(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}$t.prototype=fe.prototype={constructor:$t,on:function(t,e){var n=this._,r=pr(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=mr(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=Me(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Me(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new $t(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function mr(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Me(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=dr,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var te="http://www.w3.org/1999/xhtml";const ze={svg:"http://www.w3.org/2000/svg",xhtml:te,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ht(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ze.hasOwnProperty(e)?{space:ze[e],local:t}:t}function gr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===te&&e.documentElement.namespaceURI===te?e.createElement(t):e.createElementNS(n,t)}}function yr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function tn(t){var e=Ht(t);return(e.local?yr:gr)(e)}function xr(){}function de(t){return t==null?xr:function(){return this.querySelector(t)}}function vr(t){typeof t!="function"&&(t=de(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=s[c])&&(u=t.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),o[c]=u);return new L(r,this._parents)}function wr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function _r(){return[]}function en(t){return t==null?_r:function(){return this.querySelectorAll(t)}}function br(t){return function(){return wr(t.apply(this,arguments))}}function kr(t){typeof t=="function"?t=br(t):t=en(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new L(r,i)}function nn(t){return function(){return this.matches(t)}}function rn(t){return function(e){return e.matches(t)}}var Er=Array.prototype.find;function Ar(t){return function(){return Er.call(this.children,t)}}function Cr(){return this.firstElementChild}function Sr(t){return this.select(t==null?Cr:Ar(typeof t=="function"?t:rn(t)))}var Nr=Array.prototype.filter;function $r(){return Array.from(this.children)}function Mr(t){return function(){return Nr.call(this.children,t)}}function zr(t){return this.selectAll(t==null?$r:Mr(typeof t=="function"?t:rn(t)))}function Tr(t){typeof t!="function"&&(t=nn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],l,u=0;u<a;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&o.push(l);return new L(r,this._parents)}function sn(t){return new Array(t.length)}function Rr(){return new L(this._enter||this._groups.map(sn),this._parents)}function Pt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Pt.prototype={constructor:Pt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Pr(t){return function(){return t}}function Xr(t,e,n,r,i,s){for(var a=0,o,l=e.length,u=s.length;a<u;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new Pt(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function Ir(t,e,n,r,i,s,a){var o,l,u=new Map,c=e.length,d=s.length,p=new Array(c),m;for(o=0;o<c;++o)(l=e[o])&&(p[o]=m=a.call(l,l.__data__,o,e)+"",u.has(m)?i[o]=l:u.set(m,l));for(o=0;o<d;++o)m=a.call(t,s[o],o,s)+"",(l=u.get(m))?(r[o]=l,l.__data__=s[o],u.delete(m)):n[o]=new Pt(t,s[o]);for(o=0;o<c;++o)(l=e[o])&&u.get(p[o])===l&&(i[o]=l)}function Dr(t){return t.__data__}function Lr(t,e){if(!arguments.length)return Array.from(this,Dr);var n=e?Ir:Xr,r=this._parents,i=this._groups;typeof t!="function"&&(t=Pr(t));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],p=d.length,m=Or(t.call(c,c&&c.__data__,u,r)),_=m.length,b=o[u]=new Array(_),N=a[u]=new Array(_),y=l[u]=new Array(p);n(c,d,b,N,y,m,e);for(var M=0,z=0,T,R;M<_;++M)if(T=b[M]){for(M>=z&&(z=M+1);!(R=N[z])&&++z<_;);T._next=R||null}}return a=new L(a,r),a._enter=o,a._exit=l,a}function Or(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fr(){return new L(this._exit||this._groups.map(sn),this._parents)}function Hr(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function jr(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],d=u.length,p=o[l]=new Array(d),m,_=0;_<d;++_)(m=u[_]||c[_])&&(p[_]=m);for(;l<i;++l)o[l]=n[l];return new L(o,this._parents)}function Br(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Vr(t){t||(t=qr);function e(d,p){return d&&p?t(d.__data__,p.__data__):!d-!p}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,l=i[s]=new Array(o),u,c=0;c<o;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new L(i,this._parents).order()}function qr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Yr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ur(){return Array.from(this)}function Gr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function Wr(){let t=0;for(const e of this)++t;return t}function Kr(){return!this.node()}function Zr(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&t.call(o,o.__data__,s,i);return this}function Qr(t){return function(){this.removeAttribute(t)}}function Jr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ti(t,e){return function(){this.setAttribute(t,e)}}function ei(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ni(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ri(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ii(t,e){var n=Ht(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Jr:Qr:typeof e=="function"?n.local?ri:ni:n.local?ei:ti)(n,e))}function an(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function si(t){return function(){this.style.removeProperty(t)}}function ai(t,e,n){return function(){this.style.setProperty(t,e,n)}}function oi(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function li(t,e,n){return arguments.length>1?this.each((e==null?si:typeof e=="function"?oi:ai)(t,e,n??"")):lt(this.node(),t)}function lt(t,e){return t.style.getPropertyValue(e)||an(t).getComputedStyle(t,null).getPropertyValue(e)}function ci(t){return function(){delete this[t]}}function ui(t,e){return function(){this[t]=e}}function hi(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function fi(t,e){return arguments.length>1?this.each((e==null?ci:typeof e=="function"?hi:ui)(t,e)):this.node()[t]}function on(t){return t.trim().split(/^|\s+/)}function pe(t){return t.classList||new ln(t)}function ln(t){this._node=t,this._names=on(t.getAttribute("class")||"")}ln.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function cn(t,e){for(var n=pe(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function un(t,e){for(var n=pe(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function di(t){return function(){cn(this,t)}}function pi(t){return function(){un(this,t)}}function mi(t,e){return function(){(e.apply(this,arguments)?cn:un)(this,t)}}function gi(t,e){var n=on(t+"");if(arguments.length<2){for(var r=pe(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?mi:e?di:pi)(n,e))}function yi(){this.textContent=""}function xi(t){return function(){this.textContent=t}}function vi(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function wi(t){return arguments.length?this.each(t==null?yi:(typeof t=="function"?vi:xi)(t)):this.node().textContent}function _i(){this.innerHTML=""}function bi(t){return function(){this.innerHTML=t}}function ki(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ei(t){return arguments.length?this.each(t==null?_i:(typeof t=="function"?ki:bi)(t)):this.node().innerHTML}function Ai(){this.nextSibling&&this.parentNode.appendChild(this)}function Ci(){return this.each(Ai)}function Si(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ni(){return this.each(Si)}function $i(t){var e=typeof t=="function"?t:tn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Mi(){return null}function zi(t,e){var n=typeof t=="function"?t:tn(t),r=e==null?Mi:typeof e=="function"?e:de(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ti(){var t=this.parentNode;t&&t.removeChild(this)}function Ri(){return this.each(Ti)}function Pi(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xi(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ii(t){return this.select(t?Xi:Pi)}function Di(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Li(t){return function(e){t.call(this,e,this.__data__)}}function Oi(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Fi(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Hi(t,e,n){return function(){var r=this.__on,i,s=Li(e);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function ji(t,e,n){var r=Oi(t+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,c;l<u;++l)for(i=0,c=o[l];i<s;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(o=e?Hi:Fi,i=0;i<s;++i)this.each(o(r[i],e,n));return this}function hn(t,e,n){var r=an(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Bi(t,e){return function(){return hn(this,t,e)}}function Vi(t,e){return function(){return hn(this,t,e.apply(this,arguments))}}function qi(t,e){return this.each((typeof e=="function"?Vi:Bi)(t,e))}function*Yi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var fn=[null];function L(t,e){this._groups=t,this._parents=e}function vt(){return new L([[document.documentElement]],fn)}function Ui(){return this}L.prototype=vt.prototype={constructor:L,select:vr,selectAll:kr,selectChild:Sr,selectChildren:zr,filter:Tr,data:Lr,enter:Rr,exit:Fr,join:Hr,merge:jr,selection:Ui,order:Br,sort:Vr,call:Yr,nodes:Ur,node:Gr,size:Wr,empty:Kr,each:Zr,attr:ii,style:li,property:fi,classed:gi,text:wi,html:Ei,raise:Ci,lower:Ni,append:$i,insert:zi,remove:Ri,clone:Ii,datum:Di,on:ji,dispatch:qi,[Symbol.iterator]:Yi};function Z(t){return typeof t=="string"?new L([[document.querySelector(t)]],[document.documentElement]):new L([[t]],fn)}function Gi(t){let e;for(;e=t.sourceEvent;)t=e;return t}function et(t,e){if(t=Gi(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const ee={capture:!0,passive:!1};function ne(t){t.preventDefault(),t.stopImmediatePropagation()}function Wi(t){var e=t.document.documentElement,n=Z(t).on("dragstart.drag",ne,ee);"onselectstart"in e?n.on("selectstart.drag",ne,ee):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ki(t,e){var n=t.document.documentElement,r=Z(t).on("dragstart.drag",null);e&&(r.on("click.drag",ne,ee),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function me(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wt(){}var mt=.7,Xt=1/mt,ot="\\s*([+-]?\\d+)\\s*",gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",V="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zi=/^#([0-9a-f]{3,8})$/,Qi=new RegExp(`^rgb\\(${ot},${ot},${ot}\\)$`),Ji=new RegExp(`^rgb\\(${V},${V},${V}\\)$`),ts=new RegExp(`^rgba\\(${ot},${ot},${ot},${gt}\\)$`),es=new RegExp(`^rgba\\(${V},${V},${V},${gt}\\)$`),ns=new RegExp(`^hsl\\(${gt},${V},${V}\\)$`),rs=new RegExp(`^hsla\\(${gt},${V},${V},${gt}\\)$`),Te={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};me(wt,yt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Re,formatHex:Re,formatHex8:is,formatHsl:ss,formatRgb:Pe,toString:Pe});function Re(){return this.rgb().formatHex()}function is(){return this.rgb().formatHex8()}function ss(){return pn(this).formatHsl()}function Pe(){return this.rgb().formatRgb()}function yt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Zi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Xe(e):n===3?new I(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?At(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?At(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Qi.exec(t))?new I(e[1],e[2],e[3],1):(e=Ji.exec(t))?new I(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ts.exec(t))?At(e[1],e[2],e[3],e[4]):(e=es.exec(t))?At(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ns.exec(t))?Le(e[1],e[2]/100,e[3]/100,1):(e=rs.exec(t))?Le(e[1],e[2]/100,e[3]/100,e[4]):Te.hasOwnProperty(t)?Xe(Te[t]):t==="transparent"?new I(NaN,NaN,NaN,0):null}function Xe(t){return new I(t>>16&255,t>>8&255,t&255,1)}function At(t,e,n,r){return r<=0&&(t=e=n=NaN),new I(t,e,n,r)}function as(t){return t instanceof wt||(t=yt(t)),t?(t=t.rgb(),new I(t.r,t.g,t.b,t.opacity)):new I}function re(t,e,n,r){return arguments.length===1?as(t):new I(t,e,n,r??1)}function I(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}me(I,re,dn(wt,{brighter(t){return t=t==null?Xt:Math.pow(Xt,t),new I(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mt:Math.pow(mt,t),new I(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new I(it(this.r),it(this.g),it(this.b),It(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ie,formatHex:Ie,formatHex8:os,formatRgb:De,toString:De}));function Ie(){return`#${rt(this.r)}${rt(this.g)}${rt(this.b)}`}function os(){return`#${rt(this.r)}${rt(this.g)}${rt(this.b)}${rt((isNaN(this.opacity)?1:this.opacity)*255)}`}function De(){const t=It(this.opacity);return`${t===1?"rgb(":"rgba("}${it(this.r)}, ${it(this.g)}, ${it(this.b)}${t===1?")":`, ${t})`}`}function It(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function it(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rt(t){return t=it(t),(t<16?"0":"")+t.toString(16)}function Le(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new j(t,e,n,r)}function pn(t){if(t instanceof j)return new j(t.h,t.s,t.l,t.opacity);if(t instanceof wt||(t=yt(t)),!t)return new j;if(t instanceof j)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new j(a,o,l,t.opacity)}function ls(t,e,n,r){return arguments.length===1?pn(t):new j(t,e,n,r??1)}function j(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}me(j,ls,dn(wt,{brighter(t){return t=t==null?Xt:Math.pow(Xt,t),new j(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mt:Math.pow(mt,t),new j(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new I(Ut(t>=240?t-240:t+120,i,r),Ut(t,i,r),Ut(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new j(Oe(this.h),Ct(this.s),Ct(this.l),It(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=It(this.opacity);return`${t===1?"hsl(":"hsla("}${Oe(this.h)}, ${Ct(this.s)*100}%, ${Ct(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Oe(t){return t=(t||0)%360,t<0?t+360:t}function Ct(t){return Math.max(0,Math.min(1,t||0))}function Ut(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const mn=t=>()=>t;function cs(t,e){return function(n){return t+n*e}}function us(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function hs(t){return(t=+t)==1?gn:function(e,n){return n-e?us(e,n,t):mn(isNaN(e)?n:e)}}function gn(t,e){var n=e-t;return n?cs(t,n):mn(isNaN(t)?e:t)}const Fe=function t(e){var n=hs(e);function r(i,s){var a=n((i=re(i)).r,(s=re(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),u=gn(i.opacity,s.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function K(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ie=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gt=new RegExp(ie.source,"g");function fs(t){return function(){return t}}function ds(t){return function(e){return t(e)+""}}function ps(t,e){var n=ie.lastIndex=Gt.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=ie.exec(t))&&(i=Gt.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:K(r,i)})),n=Gt.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?ds(l[0].x):fs(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}var He=180/Math.PI,se={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yn(t,e,n,r,i,s){var a,o,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*He,skewX:Math.atan(l)*He,scaleX:a,scaleY:o}}var St;function ms(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?se:yn(e.a,e.b,e.c,e.d,e.e,e.f)}function gs(t){return t==null||(St||(St=document.createElementNS("http://www.w3.org/2000/svg","g")),St.setAttribute("transform",t),!(t=St.transform.baseVal.consolidate()))?se:(t=t.matrix,yn(t.a,t.b,t.c,t.d,t.e,t.f))}function xn(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,p,m,_){if(u!==d||c!==p){var b=m.push("translate(",null,e,null,n);_.push({i:b-4,x:K(u,d)},{i:b-2,x:K(c,p)})}else(d||p)&&m.push("translate("+d+e+p+n)}function a(u,c,d,p){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),p.push({i:d.push(i(d)+"rotate(",null,r)-2,x:K(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function o(u,c,d,p){u!==c?p.push({i:d.push(i(d)+"skewX(",null,r)-2,x:K(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,p,m,_){if(u!==d||c!==p){var b=m.push(i(m)+"scale(",null,",",null,")");_.push({i:b-4,x:K(u,d)},{i:b-2,x:K(c,p)})}else(d!==1||p!==1)&&m.push(i(m)+"scale("+d+","+p+")")}return function(u,c){var d=[],p=[];return u=t(u),c=t(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,p),a(u.rotate,c.rotate,d,p),o(u.skewX,c.skewX,d,p),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,p),u=c=null,function(m){for(var _=-1,b=p.length,N;++_<b;)d[(N=p[_]).i]=N.x(m);return d.join("")}}}var ys=xn(ms,"px, ","px)","deg)"),xs=xn(gs,", ",")",")"),vs=1e-12;function je(t){return((t=Math.exp(t))+1/t)/2}function ws(t){return((t=Math.exp(t))-1/t)/2}function _s(t){return((t=Math.exp(2*t))-1)/(t+1)}const bs=function t(e,n,r){function i(s,a){var o=s[0],l=s[1],u=s[2],c=a[0],d=a[1],p=a[2],m=c-o,_=d-l,b=m*m+_*_,N,y;if(b<vs)y=Math.log(p/u)/e,N=function(O){return[o+O*m,l+O*_,u*Math.exp(e*O*y)]};else{var M=Math.sqrt(b),z=(p*p-u*u+r*b)/(2*u*n*M),T=(p*p-u*u-r*b)/(2*p*n*M),R=Math.log(Math.sqrt(z*z+1)-z),X=Math.log(Math.sqrt(T*T+1)-T);y=(X-R)/e,N=function(O){var Q=O*y,J=je(R),tt=u/(n*M)*(J*_s(e*Q+R)-ws(R));return[o+tt*m,l+tt*_,u*J/je(e*Q+R)]}}return N.duration=y*1e3*e/Math.SQRT2,N}return i.rho=function(s){var a=Math.max(.001,+s),o=a*a,l=o*o;return t(a,o,l)},i}(Math.SQRT2,2,4);var ct=0,dt=0,ht=0,vn=1e3,Dt,pt,Lt=0,st=0,jt=0,xt=typeof performance=="object"&&performance.now?performance:Date,wn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ge(){return st||(wn(ks),st=xt.now()+jt)}function ks(){st=0}function Ot(){this._call=this._time=this._next=null}Ot.prototype=_n.prototype={constructor:Ot,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ge():+n)+(e==null?0:+e),!this._next&&pt!==this&&(pt?pt._next=this:Dt=this,pt=this),this._call=t,this._time=n,ae()},stop:function(){this._call&&(this._call=null,this._time=1/0,ae())}};function _n(t,e,n){var r=new Ot;return r.restart(t,e,n),r}function Es(){ge(),++ct;for(var t=Dt,e;t;)(e=st-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ct}function Be(){st=(Lt=xt.now())+jt,ct=dt=0;try{Es()}finally{ct=0,Cs(),st=0}}function As(){var t=xt.now(),e=t-Lt;e>vn&&(jt-=e,Lt=t)}function Cs(){for(var t,e=Dt,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Dt=n);pt=t,ae(r)}function ae(t){if(!ct){dt&&(dt=clearTimeout(dt));var e=t-st;e>24?(t<1/0&&(dt=setTimeout(Be,t-xt.now()-jt)),ht&&(ht=clearInterval(ht))):(ht||(Lt=xt.now(),ht=setInterval(As,vn)),ct=1,wn(Be))}}function Ve(t,e,n){var r=new Ot;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ss=fe("start","end","cancel","interrupt"),Ns=[],bn=0,qe=1,oe=2,Mt=3,Ye=4,le=5,zt=6;function Bt(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;$s(t,n,{name:e,index:r,group:i,on:Ss,tween:Ns,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:bn})}function ye(t,e){var n=B(t,e);if(n.state>bn)throw new Error("too late; already scheduled");return n}function q(t,e){var n=B(t,e);if(n.state>Mt)throw new Error("too late; already running");return n}function B(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function $s(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=_n(s,0,n.time);function s(u){n.state=qe,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,d,p,m;if(n.state!==qe)return l();for(c in r)if(m=r[c],m.name===n.name){if(m.state===Mt)return Ve(a);m.state===Ye?(m.state=zt,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[c]):+c<e&&(m.state=zt,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[c])}if(Ve(function(){n.state===Mt&&(n.state=Ye,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=oe,n.on.call("start",t,t.__data__,n.index,n.group),n.state===oe){for(n.state=Mt,i=new Array(p=n.tween.length),c=0,d=-1;c<p;++c)(m=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=m);i.length=d+1}}function o(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=le,1),d=-1,p=i.length;++d<p;)i[d].call(t,c);n.state===le&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=zt,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Tt(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>oe&&r.state<le,r.state=zt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function Ms(t){return this.each(function(){Tt(this,t)})}function zs(t,e){var n,r;return function(){var i=q(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Ts(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=q(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=o;break}l===u&&i.push(o)}s.tween=i}}function Rs(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=B(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?zs:Ts)(n,t,e))}function xe(t,e,n){var r=t._id;return t.each(function(){var i=q(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return B(i,r).value[e]}}function kn(t,e){var n;return(typeof e=="number"?K:e instanceof yt?Fe:(n=yt(e))?(e=n,Fe):ps)(t,e)}function Ps(t){return function(){this.removeAttribute(t)}}function Xs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Is(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function Ds(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function Ls(t,e,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o)))}}function Os(t,e,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o)))}}function Fs(t,e){var n=Ht(t),r=n==="transform"?xs:kn;return this.attrTween(t,typeof e=="function"?(n.local?Os:Ls)(n,r,xe(this,"attr."+t,e)):e==null?(n.local?Xs:Ps)(n):(n.local?Ds:Is)(n,r,e))}function Hs(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function js(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Bs(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&js(t,s)),n}return i._value=e,i}function Vs(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Hs(t,s)),n}return i._value=e,i}function qs(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ht(t);return this.tween(n,(r.local?Bs:Vs)(r,e))}function Ys(t,e){return function(){ye(this,t).delay=+e.apply(this,arguments)}}function Us(t,e){return e=+e,function(){ye(this,t).delay=e}}function Gs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ys:Us)(e,t)):B(this.node(),e).delay}function Ws(t,e){return function(){q(this,t).duration=+e.apply(this,arguments)}}function Ks(t,e){return e=+e,function(){q(this,t).duration=e}}function Zs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ws:Ks)(e,t)):B(this.node(),e).duration}function Qs(t,e){if(typeof e!="function")throw new Error;return function(){q(this,t).ease=e}}function Js(t){var e=this._id;return arguments.length?this.each(Qs(e,t)):B(this.node(),e).ease}function ta(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;q(this,t).ease=n}}function ea(t){if(typeof t!="function")throw new Error;return this.each(ta(this._id,t))}function na(t){typeof t!="function"&&(t=nn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],l,u=0;u<a;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&o.push(l);return new W(r,this._parents,this._name,this._id)}function ra(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var l=e[o],u=n[o],c=l.length,d=a[o]=new Array(c),p,m=0;m<c;++m)(p=l[m]||u[m])&&(d[m]=p);for(;o<r;++o)a[o]=e[o];return new W(a,this._parents,this._name,this._id)}function ia(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function sa(t,e,n){var r,i,s=ia(e)?ye:q;return function(){var a=s(this,t),o=a.on;o!==r&&(i=(r=o).copy()).on(e,n),a.on=i}}function aa(t,e){var n=this._id;return arguments.length<2?B(this.node(),n).on.on(t):this.each(sa(n,t,e))}function oa(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function la(){return this.on("end.remove",oa(this._id))}function ca(t){var e=this._name,n=this._id;typeof t!="function"&&(t=de(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],l=o.length,u=s[a]=new Array(l),c,d,p=0;p<l;++p)(c=o[p])&&(d=t.call(c,c.__data__,p,o))&&("__data__"in c&&(d.__data__=c.__data__),u[p]=d,Bt(u[p],e,n,p,u,B(c,n)));return new W(s,this._parents,e,n)}function ua(t){var e=this._name,n=this._id;typeof t!="function"&&(t=en(t));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var l=r[o],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var p=t.call(c,c.__data__,d,l),m,_=B(c,n),b=0,N=p.length;b<N;++b)(m=p[b])&&Bt(m,e,n,b,p,_);s.push(p),a.push(c)}return new W(s,a,e,n)}var ha=vt.prototype.constructor;function fa(){return new ha(this._groups,this._parents)}function da(t,e){var n,r,i;return function(){var s=lt(this,t),a=(this.style.removeProperty(t),lt(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function En(t){return function(){this.style.removeProperty(t)}}function pa(t,e,n){var r,i=n+"",s;return function(){var a=lt(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function ma(t,e,n){var r,i,s;return function(){var a=lt(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),lt(this,t))),a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o))}}function ga(t,e){var n,r,i,s="style."+e,a="end."+s,o;return function(){var l=q(this,t),u=l.on,c=l.value[s]==null?o||(o=En(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function ya(t,e,n){var r=(t+="")=="transform"?ys:kn;return e==null?this.styleTween(t,da(t,r)).on("end.style."+t,En(t)):typeof e=="function"?this.styleTween(t,ma(t,r,xe(this,"style."+t,e))).each(ga(this._id,t)):this.styleTween(t,pa(t,r,e),n).on("end.style."+t,null)}function xa(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function va(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&xa(t,a,n)),r}return s._value=e,s}function wa(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,va(t,e,n??""))}function _a(t){return function(){this.textContent=t}}function ba(t){return function(){var e=t(this);this.textContent=e??""}}function ka(t){return this.tween("text",typeof t=="function"?ba(xe(this,"text",t)):_a(t==null?"":t+""))}function Ea(t){return function(e){this.textContent=t.call(this,e)}}function Aa(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ea(i)),e}return r._value=t,r}function Ca(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Aa(t))}function Sa(){for(var t=this._name,e=this._id,n=An(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,u=0;u<o;++u)if(l=a[u]){var c=B(l,e);Bt(l,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new W(r,this._parents,t,n)}function Na(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};n.each(function(){var u=q(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),i===0&&s()})}var $a=0;function W(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function An(){return++$a}var U=vt.prototype;W.prototype={constructor:W,select:ca,selectAll:ua,selectChild:U.selectChild,selectChildren:U.selectChildren,filter:na,merge:ra,selection:fa,transition:Sa,call:U.call,nodes:U.nodes,node:U.node,size:U.size,empty:U.empty,each:U.each,on:aa,attr:Fs,attrTween:qs,style:ya,styleTween:wa,text:ka,textTween:Ca,remove:la,tween:Rs,delay:Gs,duration:Zs,ease:Js,easeVarying:ea,end:Na,[Symbol.iterator]:U[Symbol.iterator]};function Ma(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var za={time:null,delay:0,duration:250,ease:Ma};function Ta(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ra(t){var e,n;t instanceof W?(e=t._id,t=t._name):(e=An(),(n=za).time=ge(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&Bt(l,t,e,u,a,n||Ta(l,e));return new W(r,this._parents,t,e)}vt.prototype.interrupt=Ms;vt.prototype.transition=Ra;const ce=Math.PI,ue=2*ce,nt=1e-6,Pa=ue-nt;function Cn(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Xa(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Cn;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ia{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Cn:Xa(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,u=i-n,c=a-e,d=o-n,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>nt)if(!(Math.abs(d*l-u*c)>nt)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,_=i-o,b=l*l+u*u,N=m*m+_*_,y=Math.sqrt(b),M=Math.sqrt(p),z=s*Math.tan((ce-Math.acos((b+p-N)/(2*y*M)))/2),T=z/M,R=z/y;Math.abs(T-1)>nt&&this._append`L${e+T*c},${n+T*d}`,this._append`A${s},${s},0,0,${+(d*m>c*_)},${this._x1=e+R*l},${this._y1=n+R*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,c=n+l,d=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>nt||Math.abs(this._y1-c)>nt)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%ue+ue),p>Pa?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:p>nt&&this._append`A${r},${r},0,${+(p>=ce)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Da(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Ue=Symbol("implicit");function Sn(){var t=new Ce,e=[],n=[],r=Ue;function i(s){let a=t.get(s);if(a===void 0){if(r!==Ue)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Ce;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Sn(e,n).unknown(r)},Da.apply(i,arguments),i}function La(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Oa=La("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Ge(t){return function(){return t}}function Fa(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ia(e)}var Ha=Array.prototype.slice;function ja(t){return t[0]}function Ba(t){return t[1]}class Va{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function qa(t){return new Va(t,!0)}function Ya(t){return t.source}function Ua(t){return t.target}function Ga(t){let e=Ya,n=Ua,r=ja,i=Ba,s=null,a=null,o=Fa(l);function l(){let u;const c=Ha.call(arguments),d=e.apply(this,c),p=n.apply(this,c);if(s==null&&(a=t(u=o())),a.lineStart(),c[0]=d,a.point(+r.apply(this,c),+i.apply(this,c)),c[0]=p,a.point(+r.apply(this,c),+i.apply(this,c)),a.lineEnd(),u)return a=null,u+""||null}return l.source=function(u){return arguments.length?(e=u,l):e},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:Ge(+u),l):r},l.y=function(u){return arguments.length?(i=typeof u=="function"?u:Ge(+u),l):i},l.context=function(u){return arguments.length?(u==null?s=a=null:a=t(s=u),l):s},l}function Wa(){return Ga(qa)}const Nt=t=>()=>t;function Ka(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function G(t,e,n){this.k=t,this.x=e,this.y=n}G.prototype={constructor:G,scale:function(t){return t===1?this:new G(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new G(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vt=new G(1,0,0);at.prototype=G.prototype;function at(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Vt;return t.__zoom}function Wt(t){t.stopImmediatePropagation()}function ft(t){t.preventDefault(),t.stopImmediatePropagation()}function Za(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Qa(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function We(){return this.__zoom||Vt}function Ja(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function to(){return navigator.maxTouchPoints||"ontouchstart"in this}function eo(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function no(){var t=Za,e=Qa,n=eo,r=Ja,i=to,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,l=bs,u=fe("start","zoom","end"),c,d,p,m=500,_=150,b=0,N=10;function y(f){f.property("__zoom",We).on("wheel.zoom",Q,{passive:!1}).on("mousedown.zoom",J).on("dblclick.zoom",tt).filter(i).on("touchstart.zoom",_t).on("touchmove.zoom",bt).on("touchend.zoom touchcancel.zoom",ut).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(f,x,g,w){var E=f.selection?f.selection():f;E.property("__zoom",We),f!==E?R(f,x,g,w):E.interrupt().each(function(){X(this,arguments).event(w).start().zoom(null,typeof x=="function"?x.apply(this,arguments):x).end()})},y.scaleBy=function(f,x,g,w){y.scaleTo(f,function(){var E=this.__zoom.k,A=typeof x=="function"?x.apply(this,arguments):x;return E*A},g,w)},y.scaleTo=function(f,x,g,w){y.transform(f,function(){var E=e.apply(this,arguments),A=this.__zoom,C=g==null?T(E):typeof g=="function"?g.apply(this,arguments):g,$=A.invert(C),h=typeof x=="function"?x.apply(this,arguments):x;return n(z(M(A,h),C,$),E,a)},g,w)},y.translateBy=function(f,x,g,w){y.transform(f,function(){return n(this.__zoom.translate(typeof x=="function"?x.apply(this,arguments):x,typeof g=="function"?g.apply(this,arguments):g),e.apply(this,arguments),a)},null,w)},y.translateTo=function(f,x,g,w,E){y.transform(f,function(){var A=e.apply(this,arguments),C=this.__zoom,$=w==null?T(A):typeof w=="function"?w.apply(this,arguments):w;return n(Vt.translate($[0],$[1]).scale(C.k).translate(typeof x=="function"?-x.apply(this,arguments):-x,typeof g=="function"?-g.apply(this,arguments):-g),A,a)},w,E)};function M(f,x){return x=Math.max(s[0],Math.min(s[1],x)),x===f.k?f:new G(x,f.x,f.y)}function z(f,x,g){var w=x[0]-g[0]*f.k,E=x[1]-g[1]*f.k;return w===f.x&&E===f.y?f:new G(f.k,w,E)}function T(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function R(f,x,g,w){f.on("start.zoom",function(){X(this,arguments).event(w).start()}).on("interrupt.zoom end.zoom",function(){X(this,arguments).event(w).end()}).tween("zoom",function(){var E=this,A=arguments,C=X(E,A).event(w),$=e.apply(E,A),h=g==null?T($):typeof g=="function"?g.apply(E,A):g,v=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),S=E.__zoom,P=typeof x=="function"?x.apply(E,A):x,F=l(S.invert(h).concat(v/S.k),P.invert(h).concat(v/P.k));return function(H){if(H===1)H=P;else{var Y=F(H),qt=v/Y[2];H=new G(qt,h[0]-Y[0]*qt,h[1]-Y[1]*qt)}C.zoom(null,H)}})}function X(f,x,g){return!g&&f.__zooming||new O(f,x)}function O(f,x){this.that=f,this.args=x,this.active=0,this.sourceEvent=null,this.extent=e.apply(f,x),this.taps=0}O.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,x){return this.mouse&&f!=="mouse"&&(this.mouse[1]=x.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=x.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=x.invert(this.touch1[0])),this.that.__zoom=x,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var x=Z(this.that).datum();u.call(f,this.that,new Ka(f,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),x)}};function Q(f,...x){if(!t.apply(this,arguments))return;var g=X(this,x).event(f),w=this.__zoom,E=Math.max(s[0],Math.min(s[1],w.k*Math.pow(2,r.apply(this,arguments)))),A=et(f);if(g.wheel)(g.mouse[0][0]!==A[0]||g.mouse[0][1]!==A[1])&&(g.mouse[1]=w.invert(g.mouse[0]=A)),clearTimeout(g.wheel);else{if(w.k===E)return;g.mouse=[A,w.invert(A)],Tt(this),g.start()}ft(f),g.wheel=setTimeout(C,_),g.zoom("mouse",n(z(M(w,E),g.mouse[0],g.mouse[1]),g.extent,a));function C(){g.wheel=null,g.end()}}function J(f,...x){if(p||!t.apply(this,arguments))return;var g=f.currentTarget,w=X(this,x,!0).event(f),E=Z(f.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",v,!0),A=et(f,g),C=f.clientX,$=f.clientY;Wi(f.view),Wt(f),w.mouse=[A,this.__zoom.invert(A)],Tt(this),w.start();function h(S){if(ft(S),!w.moved){var P=S.clientX-C,F=S.clientY-$;w.moved=P*P+F*F>b}w.event(S).zoom("mouse",n(z(w.that.__zoom,w.mouse[0]=et(S,g),w.mouse[1]),w.extent,a))}function v(S){E.on("mousemove.zoom mouseup.zoom",null),Ki(S.view,w.moved),ft(S),w.event(S).end()}}function tt(f,...x){if(t.apply(this,arguments)){var g=this.__zoom,w=et(f.changedTouches?f.changedTouches[0]:f,this),E=g.invert(w),A=g.k*(f.shiftKey?.5:2),C=n(z(M(g,A),w,E),e.apply(this,x),a);ft(f),o>0?Z(this).transition().duration(o).call(R,C,w,f):Z(this).call(y.transform,C,w,f)}}function _t(f,...x){if(t.apply(this,arguments)){var g=f.touches,w=g.length,E=X(this,x,f.changedTouches.length===w).event(f),A,C,$,h;for(Wt(f),C=0;C<w;++C)$=g[C],h=et($,this),h=[h,this.__zoom.invert(h),$.identifier],E.touch0?!E.touch1&&E.touch0[2]!==h[2]&&(E.touch1=h,E.taps=0):(E.touch0=h,A=!0,E.taps=1+!!c);c&&(c=clearTimeout(c)),A&&(E.taps<2&&(d=h[0],c=setTimeout(function(){c=null},m)),Tt(this),E.start())}}function bt(f,...x){if(this.__zooming){var g=X(this,x).event(f),w=f.changedTouches,E=w.length,A,C,$,h;for(ft(f),A=0;A<E;++A)C=w[A],$=et(C,this),g.touch0&&g.touch0[2]===C.identifier?g.touch0[0]=$:g.touch1&&g.touch1[2]===C.identifier&&(g.touch1[0]=$);if(C=g.that.__zoom,g.touch1){var v=g.touch0[0],S=g.touch0[1],P=g.touch1[0],F=g.touch1[1],H=(H=P[0]-v[0])*H+(H=P[1]-v[1])*H,Y=(Y=F[0]-S[0])*Y+(Y=F[1]-S[1])*Y;C=M(C,Math.sqrt(H/Y)),$=[(v[0]+P[0])/2,(v[1]+P[1])/2],h=[(S[0]+F[0])/2,(S[1]+F[1])/2]}else if(g.touch0)$=g.touch0[0],h=g.touch0[1];else return;g.zoom("touch",n(z(C,$,h),g.extent,a))}}function ut(f,...x){if(this.__zooming){var g=X(this,x).event(f),w=f.changedTouches,E=w.length,A,C;for(Wt(f),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),A=0;A<E;++A)C=w[A],g.touch0&&g.touch0[2]===C.identifier?delete g.touch0:g.touch1&&g.touch1[2]===C.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(C=et(C,this),Math.hypot(d[0]-C[0],d[1]-C[1])<N)){var $=Z(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return y.wheelDelta=function(f){return arguments.length?(r=typeof f=="function"?f:Nt(+f),y):r},y.filter=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(!!f),y):t},y.touchable=function(f){return arguments.length?(i=typeof f=="function"?f:Nt(!!f),y):i},y.extent=function(f){return arguments.length?(e=typeof f=="function"?f:Nt([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),y):e},y.scaleExtent=function(f){return arguments.length?(s[0]=+f[0],s[1]=+f[1],y):[s[0],s[1]]},y.translateExtent=function(f){return arguments.length?(a[0][0]=+f[0][0],a[1][0]=+f[1][0],a[0][1]=+f[0][1],a[1][1]=+f[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(f){return arguments.length?(n=f,y):n},y.duration=function(f){return arguments.length?(o=+f,y):o},y.interpolate=function(f){return arguments.length?(l=f,y):l},y.on=function(){var f=u.on.apply(u,arguments);return f===u?y:f},y.clickDistance=function(f){return arguments.length?(b=(f=+f)*f,y):Math.sqrt(b)},y.tapDistance=function(f){return arguments.length?(N=+f,y):N},y}const Nn=typeof navigator<"u"&&navigator.userAgent.includes("Macintosh"),ro=Sn(Oa),io=(t=1,e=3,n=2)=>r=>t+e/n**r.state.depth,so={autoFit:!1,duration:500,embedGlobalCSS:!0,fitRatio:.95,maxInitialScale:2,scrollForPan:Nn,initialExpandLevel:-1,zoom:!0,pan:!0,toggleRecursively:!1,color:t=>{var e;return ro(`${((e=t.state)==null?void 0:e.path)||""}`)},lineWidth:io(),maxWidth:0,nodeMinHeight:16,paddingX:8,spacingHorizontal:80,spacingVertical:5};function ao(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n)|0;return(e>>>0).toString(36)}function D(t){if(typeof t=="string"){const n=t;t=r=>r.matches(n)}const e=t;return function(){let n=Array.from(this.childNodes);return e&&(n=n.filter(r=>e(r))),n}}function oo(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function lo(){return this.eachAfter(oo)}function co(t){var e=this,n,r=[e],i,s,a;do for(n=r.reverse(),r=[];e=n.pop();)if(t(e),i=e.children,i)for(s=0,a=i.length;s<a;++s)r.push(i[s]);while(r.length);return this}function uo(t){for(var e=this,n=[e],r,i;e=n.pop();)if(t(e),r=e.children,r)for(i=r.length-1;i>=0;--i)n.push(r[i]);return this}function ho(t){for(var e=this,n=[e],r=[],i,s,a;e=n.pop();)if(r.push(e),i=e.children,i)for(s=0,a=i.length;s<a;++s)n.push(i[s]);for(;e=r.pop();)t(e);return this}function fo(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function po(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function mo(t){for(var e=this,n=go(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function go(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function yo(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function xo(){var t=[];return this.each(function(e){t.push(e)}),t}function vo(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function wo(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function ve(t,e){var n=new Ft(t),r=+t.value&&(n.value=t.value),i,s=[n],a,o,l,u;for(e==null&&(e=bo);i=s.pop();)if(r&&(i.value=+i.data.value),(o=e(i.data))&&(u=o.length))for(i.children=new Array(u),l=u-1;l>=0;--l)s.push(a=i.children[l]=new Ft(o[l])),a.parent=i,a.depth=i.depth+1;return n.eachBefore(Eo)}function _o(){return ve(this).eachBefore(ko)}function bo(t){return t.children}function ko(t){t.data=t.data.data}function Eo(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Ft(t){this.data=t,this.depth=this.height=0,this.parent=null}Ft.prototype=ve.prototype={constructor:Ft,count:lo,each:co,eachAfter:ho,eachBefore:uo,sum:fo,sort:po,path:mo,ancestors:yo,descendants:xo,leaves:vo,links:wo,copy:_o};const Ao="2.1.2",Co={version:Ao},{version:So}=Co,No=Object.freeze({children:t=>t.children,nodeSize:t=>t.data.size,spacing:0});function Mn(t){const e=Object.assign({},No,t);function n(o){const l=e[o];return typeof l=="function"?l:()=>l}function r(o){const l=a(s(),o,u=>u.children);return l.update(),l.data}function i(){const o=n("nodeSize"),l=n("spacing");return class $n extends ve.prototype.constructor{constructor(c){super(c)}copy(){const c=a(this.constructor,this,d=>d.children);return c.each(d=>d.data=d.data.data),c}get size(){return o(this)}spacing(c){return l(this,c)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const c=this.ancestors();return c[c.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return this.children===null}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce((c,d)=>$n.maxExtents(c,d.extents),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(c,d){return{top:Math.min(c.top,d.top),bottom:Math.max(c.bottom,d.bottom),left:Math.min(c.left,d.left),right:Math.max(c.right,d.right)}}}}function s(){const o=i(),l=n("nodeSize"),u=n("spacing");return class extends o{constructor(c){super(c),Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return l(this.data)}spacing(c){return u(this.data,c.data)}get x(){return this.data.x}set x(c){this.data.x=c}get y(){return this.data.y}set y(c){this.data.y=c}update(){return zn(this),Tn(this),this}}}function a(o,l,u){const c=(d,p)=>{const m=new o(d);Object.assign(m,{parent:p,depth:p===null?0:p.depth+1,height:0,length:1});const _=u(d)||[];return m.children=_.length===0?null:_.map(b=>c(b,m)),m.children&&Object.assign(m,m.children.reduce((b,N)=>({height:Math.max(b.height,N.height+1),length:b.length+N.length}),m)),m};return c(l,null)}return Object.assign(r,{nodeSize(o){return arguments.length?(e.nodeSize=o,r):e.nodeSize},spacing(o){return arguments.length?(e.spacing=o,r):e.spacing},children(o){return arguments.length?(e.children=o,r):e.children},hierarchy(o,l){const u=typeof l>"u"?e.children:l;return a(i(),o,u)},dump(o){const l=n("nodeSize"),u=c=>d=>{const p=c+"  ",m=c+"    ",{x:_,y:b}=d,N=l(d),y=d.children||[],M=y.length===0?" ":`,${p}children: [${m}${y.map(u(m)).join(m)}${p}],${c}`;return`{ size: [${N.join(", ")}],${p}x: ${_}, y: ${b}${M}},`};return u(`
`)(o)}}),r}Mn.version=So;const zn=(t,e=0)=>(t.y=e,(t.children||[]).reduce((n,r)=>{const[i,s]=n;zn(r,t.y+t.ySize);const a=(i===0?r.lExt:r.rExt).bottom;i!==0&&Mo(t,i,s);const o=Lo(a,i,s);return[i+1,o]},[0,null]),$o(t),Do(t),t),Tn=(t,e,n)=>{typeof e>"u"&&(e=-t.relX-t.prelim,n=0);const r=e+t.relX;return t.relX=r+t.prelim-n,t.prelim=0,t.x=n+t.relX,(t.children||[]).forEach(i=>Tn(i,r,t.x)),t},$o=t=>{(t.children||[]).reduce((e,n)=>{const[r,i]=e,s=r+n.shift,a=i+s+n.change;return n.relX+=a,[s,a]},[0,0])},Mo=(t,e,n)=>{const r=t.children[e-1],i=t.children[e];let s=r,a=r.relX,o=i,l=i.relX,u=!0;for(;s&&o;){s.bottom>n.lowY&&(n=n.next);const c=a+s.prelim-(l+o.prelim)+s.xSize/2+o.xSize/2+s.spacing(o);(c>0||c<0&&u)&&(l+=c,zo(i,c),To(t,e,n.index,c)),u=!1;const d=s.bottom,p=o.bottom;d<=p&&(s=Po(s),s&&(a+=s.relX)),d>=p&&(o=Ro(o),o&&(l+=o.relX))}!s&&o?Xo(t,e,o,l):s&&!o&&Io(t,e,s,a)},zo=(t,e)=>{t.relX+=e,t.lExtRelX+=e,t.rExtRelX+=e},To=(t,e,n,r)=>{const i=t.children[e],s=e-n;if(s>1){const a=r/s;t.children[n+1].shift+=a,i.shift-=a,i.change-=r-a}},Ro=t=>t.hasChildren?t.firstChild:t.lThr,Po=t=>t.hasChildren?t.lastChild:t.rThr,Xo=(t,e,n,r)=>{const i=t.firstChild,s=i.lExt,a=t.children[e];s.lThr=n;const o=r-n.relX-i.lExtRelX;s.relX+=o,s.prelim-=o,i.lExt=a.lExt,i.lExtRelX=a.lExtRelX},Io=(t,e,n,r)=>{const i=t.children[e],s=i.rExt,a=t.children[e-1];s.rThr=n;const o=r-n.relX-i.rExtRelX;s.relX+=o,s.prelim-=o,i.rExt=a.rExt,i.rExtRelX=a.rExtRelX},Do=t=>{if(t.hasChildren){const e=t.firstChild,n=t.lastChild,r=(e.prelim+e.relX-e.xSize/2+n.relX+n.prelim+n.xSize/2)/2;Object.assign(t,{prelim:r,lExt:e.lExt,lExtRelX:e.lExtRelX,rExt:n.rExt,rExtRelX:n.rExtRelX})}},Lo=(t,e,n)=>{for(;n!==null&&t>=n.lowY;)n=n.next;return{lowY:t,index:e,next:n}},Oo=".markmap{--markmap-max-width: 9999px;--markmap-a-color: #0097e6;--markmap-a-hover-color: #00a8ff;--markmap-code-bg: #f0f0f0;--markmap-code-color: #555;--markmap-highlight-bg: #ffeaa7;--markmap-table-border: 1px solid currentColor;--markmap-font: 300 16px/20px sans-serif;--markmap-circle-open-bg: #fff;--markmap-text-color: #333;--markmap-highlight-node-bg: #ff02;font:var(--markmap-font);color:var(--markmap-text-color)}.markmap-link{fill:none}.markmap-node>circle{cursor:pointer}.markmap-foreign{display:inline-block}.markmap-foreign p{margin:0}.markmap-foreign a{color:var(--markmap-a-color)}.markmap-foreign a:hover{color:var(--markmap-a-hover-color)}.markmap-foreign code{padding:.25em;font-size:calc(1em - 2px);color:var(--markmap-code-color);background-color:var(--markmap-code-bg);border-radius:2px}.markmap-foreign pre{margin:0}.markmap-foreign pre>code{display:block}.markmap-foreign del{text-decoration:line-through}.markmap-foreign em{font-style:italic}.markmap-foreign strong{font-weight:700}.markmap-foreign mark{background:var(--markmap-highlight-bg)}.markmap-foreign table,.markmap-foreign th,.markmap-foreign td{border-collapse:collapse;border:var(--markmap-table-border)}.markmap-foreign img{display:inline-block}.markmap-foreign svg{fill:currentColor}.markmap-foreign>div{width:var(--markmap-max-width);text-align:left}.markmap-foreign>div>div{display:inline-block}.markmap-highlight rect{fill:var(--markmap-highlight-node-bg)}.markmap-dark .markmap{--markmap-code-bg: #1a1b26;--markmap-code-color: #ddd;--markmap-circle-open-bg: #444;--markmap-text-color: #eee}",Kt="g.markmap-node",Fo="path.markmap-link",Ho="g.markmap-highlight",Zt=Wa();function Ke(t,e){const n=fr(t,e);return t[n]}function Qt(t){t.stopPropagation()}const jo=new Ln;class we{constructor(e,n){this.options={...so},this._disposeList=[],this.handleZoom=r=>{const{transform:i}=r;this.g.attr("transform",i)},this.handlePan=r=>{r.preventDefault();const i=at(this.svg.node()),s=i.translate(-r.deltaX/i.k,-r.deltaY/i.k);this.svg.call(this.zoom.transform,s)},this.handleClick=(r,i)=>{let s=this.options.toggleRecursively;(Nn?r.metaKey:r.ctrlKey)&&(s=!s),this.toggleNode(i,s)},this.ensureView=this.ensureVisible,this.svg=e.datum?e:Z(e),this.styleNode=this.svg.append("style"),this.zoom=no().filter(r=>this.options.scrollForPan&&r.type==="wheel"?r.ctrlKey&&!r.button:(!r.ctrlKey||r.type==="wheel")&&!r.button).on("zoom",this.handleZoom),this.setOptions(n),this.state={id:this.options.id||this.svg.attr("id")||Fn(),rect:{x1:0,y1:0,x2:0,y2:0}},this.g=this.svg.append("g"),this.g.append("g").attr("class","markmap-highlight"),this._observer=new ResizeObserver(Bn(()=>{this.renderData()},100)),this._disposeList.push(jo.tap(()=>{this.setData()}),()=>this._observer.disconnect())}getStyleContent(){const{style:e}=this.options,{id:n}=this.state,r=typeof e=="function"?e(n):"";return[this.options.embedGlobalCSS&&Oo,r].filter(Boolean).join(`
`)}updateStyle(){this.svg.attr("class",Hn(this.svg.attr("class"),"markmap",this.state.id));const e=this.getStyleContent();this.styleNode.text(e)}async toggleNode(e,n=!1){var r,i;const s=(r=e.payload)!=null&&r.fold?0:1;n?Et(e,(a,o)=>{a.payload={...a.payload,fold:s},o()}):e.payload={...e.payload,fold:(i=e.payload)!=null&&i.fold?0:1},await this.renderData(e)}_initializeData(e){let n=0;const{color:r,initialExpandLevel:i}=this.options;let s=0,a=0;return Et(e,(o,l,u)=>{var c,d,p,m;a+=1,o.children=(c=o.children)==null?void 0:c.map(b=>({...b})),n+=1,o.state={...o.state,depth:a,id:n,rect:{x:0,y:0,width:0,height:0},size:[0,0]},o.state.key=[(d=u==null?void 0:u.state)==null?void 0:d.id,o.state.id].filter(Boolean).join(".")+ao(o.content),o.state.path=[(p=u==null?void 0:u.state)==null?void 0:p.path,o.state.id].filter(Boolean).join("."),r(o);const _=((m=o.payload)==null?void 0:m.fold)===2;_?s+=1:(s||i>=0&&o.state.depth>=i)&&(o.payload={...o.payload,fold:1}),l(),_&&(s-=1),a-=1}),e}_relayout(){if(!this.state.data)return;this.g.selectAll(D(Kt)).selectAll(D("foreignObject")).each(function(l){var u;const c=(u=this.firstChild)==null?void 0:u.firstChild,d=[c.scrollWidth,c.scrollHeight];l.state.size=d});const{lineWidth:e,paddingX:n,spacingHorizontal:r,spacingVertical:i}=this.options,s=Mn({}).children(l=>{var u;if(!((u=l.payload)!=null&&u.fold))return l.children}).nodeSize(l=>{const[u,c]=l.data.state.size;return[c,u+(u?n*2:0)+r]}).spacing((l,u)=>(l.parent===u.parent?i:i*2)+e(l.data)),a=s.hierarchy(this.state.data);s(a);const o=a.descendants();o.forEach(l=>{const u=l.data;u.state.rect={x:l.y,y:l.x-l.xSize/2,width:l.ySize-r,height:l.xSize}}),this.state.rect={x1:$e(o,l=>l.data.state.rect.x)||0,y1:$e(o,l=>l.data.state.rect.y)||0,x2:Ne(o,l=>l.data.state.rect.x+l.data.state.rect.width)||0,y2:Ne(o,l=>l.data.state.rect.y+l.data.state.rect.height)||0}}setOptions(e){this.options={...this.options,...e},this.options.zoom?this.svg.call(this.zoom):this.svg.on(".zoom",null),this.options.pan?this.svg.on("wheel",this.handlePan):this.svg.on("wheel",null)}async setData(e,n){n&&this.setOptions(n),e&&(this.state.data=this._initializeData(e)),this.state.data&&(this.updateStyle(),await this.renderData())}async setHighlight(e){this.state.highlight=e||void 0,await this.renderData()}_getHighlightRect(e){const n=this.svg.node(),r=4/at(n).k,i={...e.state.rect};return i.x-=r,i.y-=r,i.width+=2*r,i.height+=2*r,i}async renderData(e){const{paddingX:n,autoFit:r,color:i,maxWidth:s,lineWidth:a}=this.options,o=this.state.data;if(!o)return;const l={},u={},c=[];Et(o,(h,v,S)=>{var P;(P=h.payload)!=null&&P.fold||v(),l[h.state.id]=h,S&&(u[h.state.id]=S.state.id),c.push(h)});const d={},p={},m=h=>{!h||d[h.state.id]||Et(h,(v,S)=>{d[v.state.id]=h.state.id,S()})},_=h=>p[d[h.state.id]]||o.state.rect,b=h=>(l[d[h.state.id]]||o).state.rect;p[o.state.id]=o.state.rect,e&&m(e);let{highlight:N}=this.state;N&&!l[N.state.id]&&(N=void 0);let y=this.g.selectAll(D(Ho)).selectAll(D("rect")).data(N?[this._getHighlightRect(N)]:[]).join("rect").attr("x",h=>h.x).attr("y",h=>h.y).attr("width",h=>h.width).attr("height",h=>h.height);const M=this.g.selectAll(D(Kt)).each(h=>{p[h.state.id]=h.state.rect}).data(c,h=>h.state.key),z=M.enter().append("g").attr("data-depth",h=>h.state.depth).attr("data-path",h=>h.state.path).each(h=>{m(l[u[h.state.id]])}),T=M.exit().each(h=>{m(l[u[h.state.id]])}),R=M.merge(z).attr("class",h=>{var v;return["markmap-node",((v=h.payload)==null?void 0:v.fold)&&"markmap-fold"].filter(Boolean).join(" ")}),X=R.selectAll(D("line")).data(h=>[h],h=>h.state.key),O=X.enter().append("line").attr("stroke",h=>i(h)).attr("stroke-width",0),Q=X.merge(O),J=R.selectAll(D("circle")).data(h=>{var v;return(v=h.children)!=null&&v.length?[h]:[]},h=>h.state.key),tt=J.enter().append("circle").attr("stroke-width",0).attr("r",0).on("click",(h,v)=>this.handleClick(h,v)).on("mousedown",Qt).merge(J).attr("stroke",h=>i(h)).attr("fill",h=>{var v;return(v=h.payload)!=null&&v.fold&&h.children?i(h):"var(--markmap-circle-open-bg)"}),_t=this._observer,bt=R.selectAll(D("foreignObject")).data(h=>[h],h=>h.state.key),ut=bt.enter().append("foreignObject").attr("class","markmap-foreign").attr("x",n).attr("y",0).style("opacity",0).on("mousedown",Qt).on("dblclick",Qt);ut.append("xhtml:div").append("xhtml:div").html(h=>h.content).attr("xmlns","http://www.w3.org/1999/xhtml"),ut.each(function(){var h;const v=(h=this.firstChild)==null?void 0:h.firstChild;_t.observe(v)});const f=T.selectAll(D("foreignObject"));f.each(function(){var h;const v=(h=this.firstChild)==null?void 0:h.firstChild;_t.unobserve(v)});const x=ut.merge(bt),g=c.flatMap(h=>{var v;return(v=h.payload)!=null&&v.fold?[]:h.children.map(S=>({source:h,target:S}))}),w=this.g.selectAll(D(Fo)).data(g,h=>h.target.state.key),E=w.exit(),A=w.enter().insert("path","g").attr("class","markmap-link").attr("data-depth",h=>h.target.state.depth).attr("data-path",h=>h.target.state.path).attr("d",h=>{const v=_(h.target),S=[v.x+v.width,v.y+v.height];return Zt({source:S,target:S})}).attr("stroke-width",0).merge(w);this.svg.style("--markmap-max-width",s?`${s}px`:null),await new Promise(requestAnimationFrame),this._relayout(),y=y.data(N?[this._getHighlightRect(N)]:[]).join("rect"),this.transition(y).attr("x",h=>h.x).attr("y",h=>h.y).attr("width",h=>h.width).attr("height",h=>h.height),z.attr("transform",h=>{const v=_(h);return`translate(${v.x+v.width-h.state.rect.width},${v.y+v.height-h.state.rect.height})`}),this.transition(T).attr("transform",h=>{const v=b(h),S=v.x+v.width-h.state.rect.width,P=v.y+v.height-h.state.rect.height;return`translate(${S},${P})`}).remove(),this.transition(R).attr("transform",h=>`translate(${h.state.rect.x},${h.state.rect.y})`);const C=T.selectAll(D("line"));this.transition(C).attr("x1",h=>h.state.rect.width).attr("stroke-width",0),O.attr("x1",h=>h.state.rect.width).attr("x2",h=>h.state.rect.width),Q.attr("y1",h=>h.state.rect.height+a(h)/2).attr("y2",h=>h.state.rect.height+a(h)/2),this.transition(Q).attr("x1",-1).attr("x2",h=>h.state.rect.width+2).attr("stroke",h=>i(h)).attr("stroke-width",a);const $=T.selectAll(D("circle"));this.transition($).attr("r",0).attr("stroke-width",0),tt.attr("cx",h=>h.state.rect.width).attr("cy",h=>h.state.rect.height+a(h)/2),this.transition(tt).attr("r",6).attr("stroke-width","1.5"),this.transition(f).style("opacity",0),x.attr("width",h=>Math.max(0,h.state.rect.width-n*2)).attr("height",h=>h.state.rect.height),this.transition(x).style("opacity",1),this.transition(E).attr("d",h=>{const v=b(h.target),S=[v.x+v.width,v.y+v.height+a(h.target)/2];return Zt({source:S,target:S})}).attr("stroke-width",0).remove(),this.transition(A).attr("stroke",h=>i(h.target)).attr("stroke-width",h=>a(h.target)).attr("d",h=>{const v=h.source,S=h.target,P=[v.state.rect.x+v.state.rect.width,v.state.rect.y+v.state.rect.height+a(v)/2],F=[S.state.rect.x,S.state.rect.y+S.state.rect.height+a(S)/2];return Zt({source:P,target:F})}),r&&this.fit()}transition(e){const{duration:n}=this.options;return e.transition().duration(n)}async fit(e=this.options.maxInitialScale){const n=this.svg.node(),{width:r,height:i}=n.getBoundingClientRect(),{fitRatio:s}=this.options,{x1:a,y1:o,x2:l,y2:u}=this.state.rect,c=l-a,d=u-o,p=Math.min(r/c*s,i/d*s,e),m=Vt.translate((r-c*p)/2-a*p,(i-d*p)/2-o*p).scale(p);return this.transition(this.svg).call(this.zoom.transform,m).end().catch(kt)}findElement(e){let n;return this.g.selectAll(D(Kt)).each(function(r){r===e&&(n={data:r,g:this})}),n}async ensureVisible(e,n){var r;const i=(r=this.findElement(e))==null?void 0:r.data;if(!i)return;const s=this.svg.node(),a=s.getBoundingClientRect(),o=at(s),[l,u]=[i.state.rect.x,i.state.rect.x+i.state.rect.width+2].map(y=>y*o.k+o.x),[c,d]=[i.state.rect.y,i.state.rect.y+i.state.rect.height].map(y=>y*o.k+o.y),p={left:0,right:0,top:0,bottom:0,...n},m=[p.left-l,a.width-p.right-u],_=[p.top-c,a.height-p.bottom-d],b=m[0]*m[1]>0?Ke(m,Math.abs)/o.k:0,N=_[0]*_[1]>0?Ke(_,Math.abs)/o.k:0;if(b||N){const y=o.translate(b,N);return this.transition(this.svg).call(this.zoom.transform,y).end().catch(kt)}}async centerNode(e,n){var r;const i=(r=this.findElement(e))==null?void 0:r.data;if(!i)return;const s=this.svg.node(),a=s.getBoundingClientRect(),o=at(s),l=(i.state.rect.x+i.state.rect.width/2)*o.k+o.x,u=(i.state.rect.y+i.state.rect.height/2)*o.k+o.y,c={left:0,right:0,top:0,bottom:0,...n},d=(c.left+a.width-c.right)/2,p=(c.top+a.height-c.bottom)/2,m=(d-l)/o.k,_=(p-u)/o.k;if(m||_){const b=o.translate(m,_);return this.transition(this.svg).call(this.zoom.transform,b).end().catch(kt)}}async rescale(e){const n=this.svg.node(),{width:r,height:i}=n.getBoundingClientRect(),s=r/2,a=i/2,o=at(n),l=o.translate((s-o.x)*(1-e)/o.k,(a-o.y)*(1-e)/o.k).scale(e);return this.transition(this.svg).call(this.zoom.transform,l).end().catch(kt)}destroy(){this.svg.on(".zoom",null),this.svg.html(null),this._disposeList.forEach(e=>{e()})}static create(e,n,r=null){const i=new we(e,n);return r&&i.setData(r).then(()=>{i.fit()}),i}}const Bo=()=>{const t=_e.useRef(null);return _e.useEffect(()=>{if(!t.current)return;const e=document.createElement("div");e.className="loading-indicator flex flex-col items-center justify-center h-full",e.innerHTML=`
      <div class="spinner mb-4"></div>
      <p>Loading interactive mindmap...</p>
    `,t.current.appendChild(e);const n=async()=>{try{if(await lr([{type:"stylesheet",data:{href:"https://cdn.jsdelivr.net/npm/markmap-toolbar@0.15.3/dist/style.css"}}]),await or([{type:"script",data:{src:"https://cdn.jsdelivr.net/npm/markmap-toolbar@0.15.3/dist/index.js"}}]),!t.current)return;t.current.innerHTML="";const i=document.createElement("div");i.className="mindmap-controls flex gap-2 justify-center mb-4",i.innerHTML=`
          <button id="expand-all" class="mindmap-btn bg-[#19404C] text-white px-4 py-2 rounded-md font-medium hover:bg-[#2A5A6C] transition-colors">Expand All</button>
          <button id="collapse-all" class="mindmap-btn bg-[#19404C] text-white px-4 py-2 rounded-md font-medium hover:bg-[#2A5A6C] transition-colors">Collapse All</button>
          <button id="fit-view" class="mindmap-btn bg-[#19404C] text-white px-4 py-2 rounded-md font-medium hover:bg-[#2A5A6C] transition-colors">Fit View</button>
        `,t.current.appendChild(i);const s=document.createElement("div");s.style.width="100%",s.style.height="600px",t.current.appendChild(s);const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.id="stakeholder-mindmap",a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.style.display="block",s.appendChild(a);const o=`
# Fair Price Pharma Stakeholder Mapping
## Internal Stakeholders
### Leadership
#### CEO & Board
#### Clinical Advisory Team
### Operations
#### Manufacturing Team
#### Quality Assurance
#### Administration

## External Stakeholders
### Regulatory Authorities
#### Health Canada
#### BC Ministry of Health
#### College of Pharmacists of BC
#### Public Health Authorities
##### BCCDC
##### PHO
##### FDA
##### PHSA

### Healthcare Partners
#### Direct Service Providers
##### OPS Providers
##### Clinics
##### Staff
##### Pharmacists
#### Addiction Medicine Specialists
##### BC-CfE
##### BCCSU
#### Family Doctors
#### Psychiatrists
#### Nurses

### Community
#### Those accessing FPP Rx
#### Community of PWUD or Lived Experience
##### Objectives
###### Voice concerns
###### Inform design
###### Ensure accessibility
##### Actions
###### Regular consultation
###### Lived experience advisory panel
###### Paid peer positions
#### Community Organizations
##### Collectives

### Academic & Research
#### University of TORONTO
#### University of BC
#### Research Centers
#### Academic Healthcare Partners

### Government & Authorities
#### Vancouver Police Department
#### City of Vancouver
#### Federal Ministry of Public Safety
#### Provincial Ministries & Authorities

### Media & Advocacy Groups
#### Health Journalists
#### Local Media Outlets
#### Advocacy Networks

### General Public & Local Residents
#### Strathcona Neighborhood Association
#### General Public & Local Residents
`,l=new window.markmap.Transformer,{root:u}=l.transform(o),c=we.create("#stakeholder-mindmap",{autoFit:!0,duration:500,maxWidth:300,color:b=>{const N={"Regulatory Authorities":"#fb8072","Healthcare Partners":"#ffffb3","Direct Service Providers":"#8dd3c7",Community:"#80b1d3","Academic & Research":"#bebada","Government & Authorities":"#fdb462","Media & Advocacy Groups":"#d9d9d9","General Public & Local Residents":"#bc80bd","Internal Stakeholders":"#b3de69"};for(const[M,z]of Object.entries(N))if(b.name.includes(M))return z;const y=["#19404C","#1f5061","#266277","#2c748d","#3387a3","#399ab9"];return y[Math.min(b.depth,y.length-1)]}},u),d=document.getElementById("expand-all"),p=document.getElementById("collapse-all"),m=document.getElementById("fit-view");d&&d.addEventListener("click",()=>c.expandAll()),p&&p.addEventListener("click",()=>c.collapseAll(1)),m&&m.addEventListener("click",()=>c.fit()),setTimeout(()=>c.fit(),300);const _=()=>{c&&c.fit&&c.fit()};return window.addEventListener("resize",_),setTimeout(()=>c.collapseAll(1),500),()=>{window.removeEventListener("resize",_),d==null||d.removeEventListener("click",()=>c.expandAll()),p==null||p.removeEventListener("click",()=>c.collapseAll(1)),m==null||m.removeEventListener("click",()=>c.fit())}}catch(i){console.error("Error creating mindmap:",i),r()}},r=()=>{t.current&&(t.current.innerHTML=`
        <div class="mindmap-error p-6 text-center text-red-600">
          <p class="mb-4">Interactive mindmap could not be loaded. Showing static image instead.</p>
          <img src="/stakeholder-mindmap.png" alt="Fair Price Pharma Stakeholder Mapping" class="max-w-full rounded-lg shadow-md" />
        </div>
      `)};return n(),()=>{}},[]),k.jsx("div",{ref:t,className:"mindmap-container bg-white p-4 rounded-lg shadow-md min-h-[650px] w-full"})},Go=()=>k.jsxs("div",{children:[k.jsx("div",{className:"container mx-auto px-4 pt-8",children:k.jsx(Pn,{to:"/executive-summary",label:"Back to Executive Summary"})}),k.jsx(Xn,{title:"Stakeholder Engagement Matrix",subtitle:"A prioritized framework for strategic stakeholder management and relationship building"}),k.jsx("section",{className:"py-12 px-4",children:k.jsxs("div",{className:"container mx-auto",children:[k.jsxs("div",{className:"mb-12",children:[k.jsx("h3",{className:"text-2xl font-semibold text-[#19404C] mb-4",children:"Stakeholder Analysis Overview"}),k.jsx("p",{className:"text-gray-700 mb-6",children:"This comprehensive stakeholder analysis identifies and prioritizes key individuals and organizations whose support, involvement, or approval is critical to Fair Price Pharma's success. Stakeholders have been mapped through a structured process to understand their influence, interest, and strategic importance."}),k.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow-md mb-8",children:[k.jsx("h4",{className:"text-xl font-semibold text-[#19404C] mb-4",children:"Extending the Mapping Methodology"}),k.jsx("p",{className:"mb-4",children:"To develop a comprehensive stakeholder engagement strategy, we conducted a detailed mapping exercise that included:"}),k.jsxs("ul",{className:"list-disc pl-8 mb-4",children:[k.jsx("li",{className:"mb-2",children:"Interviews with Fair Price Pharma leadership"}),k.jsx("li",{className:"mb-2",children:"Better understand the primary concerns and motivations of each stakeholder group"}),k.jsx("li",{className:"mb-2",children:"Refine FPP’s mission and regulatory messaging for stakeholder resonance"}),k.jsx("li",{className:"mb-2",children:"Identify opportunities for collaboration and mutual support"})]}),k.jsx("p",{children:"This mapping exercise produced a categorized view of stakeholder groups, clarified their objectives, and informed targeted engagement strategies for each."})]})]}),k.jsxs("div",{className:"mb-12",children:[k.jsx("h3",{className:"text-2xl font-semibold text-[#19404C] mb-4",children:"Stakeholder Mind Map"}),k.jsx("p",{className:"mb-6",children:"The interactive mind map below visualizes the complex network of stakeholders relevant to Fair Price Pharma's initiative, organized by category and showing their relationships. Use the controls to expand and collapse sections:"}),k.jsx(Bo,{}),k.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mt-6",children:[k.jsx("h4",{className:"text-center text-lg font-semibold text-[#19404C] mb-3",children:"Stakeholder Categories"}),k.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-4",children:[{color:"#b3de69",label:"Internal Stakeholders"},{color:"#fb8072",label:"Regulatory Authorities"},{color:"#ffffb3",label:"Healthcare Partners"},{color:"#80b1d3",label:"Community"},{color:"#bebada",label:"Academic & Research"},{color:"#fdb462",label:"Government"},{color:"#bc80bd",label:"Public & Media"}].map(({color:t,label:e})=>k.jsxs("div",{className:"flex items-center",children:[k.jsx("div",{className:"w-4 h-4 mr-2 rounded",style:{backgroundColor:t}}),k.jsx("span",{children:e})]},e))}),k.jsx("p",{className:"text-center text-sm text-gray-600",children:"Click on nodes to expand or collapse. Use controls above to adjust the view."})]})]}),k.jsxs("div",{className:"mou-section text-center",children:[k.jsx("h3",{className:"text-2xl font-semibold text-[#19404C] mb-4",children:"Formal Engagement: MOU Template"}),k.jsx("p",{className:"mb-6",children:"For key stakeholders, we've developed a standardized Memorandum of Understanding (MOU) template to formalize the relationship and clarify mutual expectations:"}),k.jsxs("div",{className:"flex flex-wrap justify-center items-start gap-8",children:[k.jsx("div",{className:"flex-1 min-w-[250px]",children:k.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-left",children:[k.jsx("li",{children:"Clear articulation of shared objectives"}),k.jsx("li",{children:"Defined roles and responsibilities"}),k.jsx("li",{children:"Communication and governance structure"}),k.jsx("li",{children:"Term, review, and amendment procedures"})]})}),k.jsx("div",{className:"min-w-[200px] text-center",children:k.jsxs("a",{href:"/Template_MOU.md","aria-label":"Download Memorandum of Understanding Template",className:"inline-flex items-center bg-[#19404C] text-white px-6 py-3 rounded-md font-semibold hover:bg-[#2A5A6C] transition-colors",download:!0,children:[k.jsx(In,{className:"w-5 h-5 mr-2"}),"Download MOU Template"]})})]})]}),k.jsx("div",{className:"text-center mt-12",children:k.jsxs(Rn,{to:"/media-strategy",className:"inline-flex items-center text-[#19404C] font-semibold bg-gray-50 px-6 py-3 rounded-md hover:bg-gray-100 transition-colors",children:["Continue to Media Strategy",k.jsx(Dn,{className:"w-5 h-5 ml-2"})]})})]})})]});export{Go as default};
